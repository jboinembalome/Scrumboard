<div class="p-4 md:p-8 flex min-w-0 flex-auto flex-col gap-4">
  <blouppy-title text="Weather forecast"></blouppy-title>

  <div class="py-4">
    <p class="dark:text-gray-200">This component demonstrates fetching data from the server.</p>

    @if (!forecasts | async) {
      <p class="dark:text-gray-200"><em>Loading...</em></p>
    }

    <!-- Table -->
    <div class="mt-4 shadow overflow-x-auto border-b border-gray-200 dark:border-gray-900 dark:text-gray-700 rounded-lg">
      <table class="min-w-full divide-y divide-gray-200">
        <!-- Header -->
        <thead class="bg-gray-50 dark:bg-gray-700">
          <tr>
            @for (column of columns; track $index) {
              <th scope="col"
                class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-200 uppercase tracking-wider">
                {{column}}
              </th>
            }
            
          </tr>
        </thead>
        <!-- Body -->
        <tbody>
          @for (forecast of forecasts | async; let isOdd = $odd; track $index) {
            <tr [ngClass]="{'bg-gray-50 dark:bg-gray-700 ' : isOdd, 
                            'bg-white dark:bg-gray-900' : !isOdd}">
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100">
                {{forecast.date | date:'long' }}</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-200">
                {{forecast.temperatureC }}</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-200">
                {{forecast.temperatureF }}</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-200">
                {{ forecast.summary}}</td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</div>